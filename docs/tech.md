# XRPL í•µì‹¬ ê¸°ëŠ¥ë³„ ìƒ˜í”Œ ì½”ë“œ

---

## ë“¤ì–´ê°€ë©°

### 1. XRPL (XRP Ledger)ì˜ íŠ¹ì§•

- XRPL(XRP Ledger)ì€ ë¹ ë¥¸ ê±°ë˜ í™•ì •ì„±(Finality)ê³¼ ë‚®ì€ ìˆ˜ìˆ˜ë£Œ, ê·¸ë¦¬ê³  ê³„ì • ê¸°ë°˜ êµ¬ì¡°(AccountSet, TrustLine ë“±)ë¼ëŠ” íŠ¹ìœ ì˜ ì„¤ê³„ë¥¼ ê°–ì¶˜ ë¸”ë¡ì²´ì¸ì…ë‹ˆë‹¤.
- ë©”ì¸ë„·ê³¼ Devnetì€ êµ¬ì¡°ì ìœ¼ë¡œ ë™ì¼í•˜ì§€ë§Œ, Devnetì€ ë¬´ë£Œ ë°œê¸‰ ì‹œë“œì™€ Faucetì„ í†µí•œ í…ŒìŠ¤íŠ¸ ìì‚° ì§€ê¸‰ì´ ê°€ëŠ¥í•˜ë©°, ìµœì‹  ê¸°ëŠ¥ë“¤ì„ ì‹œí—˜í•  ìˆ˜ ìˆì–´ ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œëŠ” Devnet í™˜ê²½ì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.

**ğŸ†• v1.1 ì—…ë°ì´íŠ¸**: TalkTalkì—ì„œëŠ” ì‹¤ì œ XRPL Devnet AMM í’€ì„ í™œìš©í•˜ì—¬ ì‹¤ì œ ë¸”ë¡ì²´ì¸ ê²½í—˜ì„ ì œê³µí•©ë‹ˆë‹¤. USD(`rJgqyVQrzRQTQREVTYK21843LR7vb7LapX`)ì™€ CNY(`rKNeAZt7zMLinPBBuopNk6uejPeARgEt5x`) í† í°ì´ ì‹¤ì œ AMM í’€ì—ì„œ ìŠ¤ì™‘ ê°€ëŠ¥í•©ë‹ˆë‹¤.

---

### **2. í•´ë‹¹ ë¬¸ì„œì˜ ëª©ì **

- ê° ê¸°ëŠ¥(Amendment/ê¸°ë³¸ íŠ¸ëœì­ì…˜) ë³„ë¡œ í´ë”ë¥¼ ë‚˜ëˆ„ê³ , í•´ë‹¹ ê¸°ëŠ¥ì„ í™œìš©í•˜ëŠ”Â **ì§§ê³  ëª…í™•í•œ ì‹œë‚˜ë¦¬ì˜¤ ê¸°ë°˜ ì½”ë“œ**Â ì œê³µ
- ë³µì¡í•œ êµ¬í˜„ë³´ë‹¤ ì§ê´€ì ì´ê³  í•™ìŠµ ì¤‘ì‹¬ì ì¸ ì½”ë“œ ì˜ˆì‹œ ì œê³µì— ì´ˆì ì„ ë§ì¶¤.
- XRPL ê°œë°œ ì…ë¬¸ìê°€ XRPL ì£¼ìš” ê¸°ëŠ¥ì„ ë¹ ë¥´ê²Œ ì´í•´í•˜ê³  ì‘ìš©í•  ìˆ˜ ìˆëŠ”Â **í•™ìŠµ ìë£Œ**ë¡œ í™œìš©ë˜ë„ë¡ ì„¤ê³„

---

### 3. ì½”ë“œ ë° ì½˜ì†” ì¶œë ¥ê°’ì˜ êµ¬ì¡°

- í•´ë‹¹ í”„ë¡œì íŠ¸ì—ì„œëŠ” XRPLì˜ ì£¼ìš” ê¸°ëŠ¥ë“¤ì„ í´ë” êµ¬ì¡°ë¡œ ë‚˜ëˆ„ì–´, ê° ê¸°ëŠ¥ë“¤ì„ êµ¬ì„±í•˜ëŠ” ì§§ê³  ëª…í™•í•œ ì‹œë‚˜ë¦¬ì˜¤ ìŠ¤í¬ë¦½íŠ¸ë¥¼ í´ë”ì— ë°°ì¹˜í–ˆìŠµë‹ˆë‹¤.
- í´ë” ë‚´ë¶€ ì˜ˆì œ ì½”ë“œëŠ” ë³µì¡í•œ êµ¬í˜„ë³´ë‹¤ëŠ” ì§ê´€ì ì¸ í•™ìŠµê³¼ í…ŒìŠ¤íŠ¸ì— ì´ˆì ì„ ë§ì¶”ì–´ ì½”ë“œì˜ êµ¬ì¡°ë¥¼ í†µì¼í–ˆìœ¼ë©°, ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•˜ë©´ íŠ¸ëœì­ì…˜ JSON ì›ë¬¸ ë¡œê·¸ê°€ í•¨ê»˜ ì¶œë ¥ë˜ë„ë¡ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.
- ê° ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì‚¬ìš©ë  ì½”ë“œì˜ êµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤ :

```tsx
import dotenv from "dotenv"                                         //
import path from "path"                                             //1. í•„ìš”í•œ ëª¨ë“ˆ import 
import { Client, Wallet, TrustSet as TrustSetTx } from "xrpl"       //

dotenv.config({ path: path.join(__dirname, "..", ".env") })         // 2. í™˜ê²½ë³€ìˆ˜ ë¡œë“œ ëª¨ë“ˆ

export async function TrustSet() {                                 //
  const client = new Client("wss://s.devnet.rippletest.net:51233") // 3. XRPL ì—°ê²° (Devnet)
  await client.connect()                                           //

  const ADMIN_SEED = process.env.ADMIN_SEED                        //
  const USER_SEED = process.env.USER_SEED                          // 4. í™˜ê²½ë³€ìˆ˜ì—ì„œ ì‹œë“œ ë¶ˆëŸ¬ì˜¤ê¸°
  if (!ADMIN_SEED || !USER_SEED) throw new Error("Missing env: ADMIN_SEED, USER_SEED")

  const admin = Wallet.fromSeed(ADMIN_SEED.trim())                 //
  const user = Wallet.fromSeed(USER_SEED.trim())                   // 5. ë¶ˆëŸ¬ì˜¨ ì‹œë“œë¡œ ì§€ê°‘ ì—°ê²°
 

  // TrustSet íŠ¸ëœì­ì…˜
  const tx: TrustSetTx = {                                         //
    TransactionType: "TrustSet",                                   //
    Account: user.address,                                         //
    LimitAmount: {                                                 //6. í•µì‹¬ë¶€(ë©”ì¸ íŠ¸ëœì­ì…˜)
      currency: "USD",                                             //
      issuer: admin.address,                                       //
      value: "10000",                                              //
    },                                                             //
  }                                                                //

  try {
    const prepared = await client.autofill(tx)                     //
    const signed = user.sign(prepared)                             //7. íŠ¸ëœì­ì…˜ ì„œëª…
    const result = await client.submitAndWait(signed.tx_blob)      //

    console.log(JSON.stringify(result, null, 2))                   //8. íŠ¸ëœì­ì…˜ ì›ë¬¸ ì½˜ì†”ì— ì¶œë ¥ 
    return result
  } finally {
    await client.disconnect()                                      //9. XRPL ì—°ê²° í•´ì œ
  }
}

if (require.main === module) {
  TrustSet().catch((e) => {
    console.error(e)
    process.exit(1)
  })
}

```

- ì‹¤í–‰ í›„ ì¶œë ¥ë˜ëŠ” ë¡œê·¸ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤ :

```bash
                           # í™•ì¸í•  ë¶€ë¶„(í•˜ë‹¨ì— ìœ„ì¹˜)
    "TransactionIndex": 0,
    "TransactionResult":"tesSUCCESS" # íŠ¸ëœì­ì…˜ ì‹¤í–‰ ê²°ê³¼ ì½”ë“œ (tesSUCCESS = ì •ìƒ ì²˜ë¦¬ ì™„ë£Œ)
    },
    "tx_json": {                    # ì‹¤ì œ ì œì¶œëœ íŠ¸ëœì­ì…˜ ì›ë¬¸(JSON)
      "Account": "rnD149aGRA''",    # íŠ¸ëœì­ì…˜ ì„œëª…/ì œì¶œ ê³„ì • ì£¼ì†Œ
      "Fee": "1",                   # ìˆ˜ìˆ˜ë£Œ (drops ë‹¨ìœ„, 1 drop = 0.000001 XRP)
      "Flags": 0,                   # í”Œë˜ê·¸ ê°’ (0ì´ë©´ íŠ¹ë³„í•œ ì„¤ì • ì—†ìŒ)
      "LastLedgerSequence": 5223890,# ì´ Ledger Indexê¹Œì§€ë§Œ ìœ íš¨ (ê·¸ ì´í›„ì—ëŠ” ë¬´íš¨)
      "LimitAmount": {              # í•œë„ ì„¤ì • ê°’(amount)
        "currency": "USD",          # í†µí™” ì½”ë“œ
        "issuer": "rER8ArNF''"      # ë°œí–‰ì ì£¼ì†Œ
        "value": "10000"            # í—ˆìš© í•œë„ (ì—¬ê¸°ì„  10,000 USD)
      },
      "Sequence": 4836822,          # ê³„ì •ì˜ í˜„ì¬ ì‹œí€€ìŠ¤ ë²ˆí˜¸
      "SigningPubKey": "EDEC88~",   # ì„œëª…ì— ì‚¬ìš©ëœ ê³µê°œí‚¤
      "TransactionType": "TrustSet",# íŠ¸ëœì­ì…˜ íƒ€ì… (TrustSet = ì‹ ìš©í•œë„ ì„¤ì •)
      "TxnSignature": "3FD7E071~",  # ì„œëª… ê²°ê³¼ê°’ (íŠ¸ëœì­ì…˜ ë¬´ê²°ì„± ê²€ì¦ì— ì‚¬ìš©)
      "ctid": "C04FB5C000000002",   # Compact Transaction ID
      "date": 808200681,            # Ledger Epoch ê¸°ì¤€ timestamp 
      "ledger_index": 5223872       # í¬í•¨ëœ ì›ì¥(Ledger) ë²ˆí˜¸
    },
    "validated": true               # í•´ë‹¹ íŠ¸ëœì­ì…˜ì´ ì›ì¥ì— ìµœì¢… ë°˜ì˜ë˜ì—ˆëŠ”ì§€ ì—¬ë¶€
  },
  "type": "response"
}
```

ì´ë¥¼ í†µí•´ íŠ¸ëœì­ì…˜ íƒ€ì…(TxType), ê³„ì •(Account), ê¸ˆì•¡(Amount), ìˆ˜ìˆ˜ë£Œ(Fee) ë“±ì˜ í•„ë“œë¥¼ ì§ì ‘ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê° ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ë¡œê·¸ì—ì„œ í•µì‹¬ì ì¸ ë‚´ìš©ì€ í´ë”ë³„ READMEì— ëª…ì‹œí•´ ë†“ì•˜ìŠµë‹ˆë‹¤.

+ì´í›„ ì‹œë‚˜ë¦¬ì˜¤ì— í•„ìš”í•œ Sequenceë‚˜ ì£¼ì†Œ ë“±ì˜ ì •ë³´ëŠ” ë§ˆì§€ë§‰ì— ê°•ì¡°ë˜ì–´ í•œë²ˆ ë” ì¶œë ¥ë©ë‹ˆë‹¤.

---

### 4. ëª©ì ì— ë”°ë¥¸ ë¬¸ì„œ í™œìš©ë²•

- XRPL ê°œë°œì´ ì²˜ìŒì´ë¼ë©´ : Quickstartë¥¼ ë¨¼ì € ë”°ë¼í•œ ë’¤, Wallet, Payment, TrustSet ë“±ì˜ ê¸°ë³¸ì ì¸ ê¸°ëŠ¥ ë¨¼ì € í…ŒìŠ¤íŠ¸ -> ì •ìƒ ë™ì‘ í™•ì¸ í›„ ë‹¤ë¥¸ ì£¼ìš” ê¸°ëŠ¥ READMEë¥¼ ë”°ë¼ ì‹¤í–‰
- íŠ¹ì • ê¸°ëŠ¥ë§Œ í…ŒìŠ¤íŠ¸í•˜ë ¤ë©´ : Quickstartë¥¼ ë”°ë¼í•œ ë’¤, í•´ë‹¹ ê¸°ëŠ¥ í´ë”ì˜ READMEë¡œ ë°”ë¡œ ì´ë™í•´ ì‹œë‚˜ë¦¬ì˜¤ í•™ìŠµ í›„ ì‹¤í–‰
- ì „ì²´ íë¦„ì„ í•™ìŠµí•˜ë ¤ë©´ : Quickstartë¥¼ ë”°ë¼í•œ ë’¤ ì£¼ìš” ê¸°ëŠ¥ 2~3ê°œ(ex. PermissionedDomains - Credential - PermissionedDEX) ë¥¼ ì¡°í•©í•´ í…ŒìŠ¤íŠ¸
- ì´ì™¸ì˜ ê¸°ëŠ¥ë“¤ì„ ì¶”ê°€í•´ ì‹¤í—˜í•˜ë ¤ë©´ : Server - serverInfo ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ - ì§€ì› ê¸°ëŠ¥ í™•ì¸ í›„ xrpl.js ì°¸ê³ í•´ ì‹¤í—˜

**í˜„ì¬ ë¬¸ì„œëŠ” ì „ì²´ì ì¸ ë§¥ë½ì„ ì œê³µí•˜ë©°, ê° í´ë”ë³„ ë¬¸ì„œëŠ” ê¸°ëŠ¥ë³„ ìƒì„¸ ê°€ì´ë“œì™€ ì‹¤í–‰ ì˜ˆì‹œë¥¼ ì œê³µí•©ë‹ˆë‹¤**. **ë³¸ ë¬¸ì„œëŠ” í–¥í›„ ê¸°ëŠ¥ê³¼ ì˜ˆì œë¥¼ ì§€ì†ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•  ì˜ˆì •ì´ë©°, ì´ë¥¼ í†µí•´ XRPLì˜ ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì‹¤ìŠµí•˜ê³  ì‘ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.**

---

## **ğŸš€ Quickstart**

```bash
# 0) ë ˆí¬ í´ë¡ 
git clone https://github.com/jun637/XRPL.git
cd XRPL

# 1) ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# 2) ì„œë²„ ê¸°ëŠ¥ í™•ì¸ (ì„ íƒ)
npx ts-node xrpl/Server/serverInfo.ts

# 3) Devnet ì§€ê°‘ ìƒì„± (Admin, User, User2 ì´ 3ê°œ)
npx ts-node xrpl/Wallet/createNewWallet.ts  -> ì—¬ê¸°ì„œ ì¶œë ¥ë˜ëŠ” ì‹œë“œ ê°’ì„ í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— ìœ„ì¹˜í•œ .envì— ì €ì¥

# 4) faucetìœ¼ë¡œ ìì‚° í™œì„±í™”
npx ts-node xrpl/Wallet/faucet.ts

# 5) ì§€ê°‘ ì •ë³´ ì¡°íšŒ
npx ts-node xrpl/Wallet/WalletInfo.ts

# 6) XRP ì „ì†¡í•˜ê¸° (Admin -> User)
npx ts-node xrpl/Payment/sendXRP.ts

# 7) IOU ì „ì†¡í•˜ê¸° (Admin -> User)
npx ts-node xrpl/Payment/sendIOU.ts

# 8) Trustline ì„¤ì •í•˜ê¸° (User -> Admin)
npx ts-node xrpl/TrustSet/TrustSet.ts

# 9) AccountSet(ê³„ì • ì„¤ì •)í•˜ê¸° - í•„ìˆ˜ ì•„ë‹˜
npx ts-node xrpl/AccountSet/AccountSet.ts
```

**ì§€ê°‘ ìƒì„± í›„ í™˜ê²½ë³€ìˆ˜ì— ì…ë ¥í•˜ëŠ” ë°©ë²•**

(.envíŒŒì¼ì€ ë£¨íŠ¸ì— ìƒì„±ë˜ì–´ ìˆì–´ì•¼ ì •ìƒì…ë‹ˆë‹¤.)

```bash
# 2) ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸ì— í•„ìš”í•œ ì§€ê°‘(Admin,User,User2 - ì´ 3ê°œ) ìƒì„± í›„ ì¶œë ¥ë˜ëŠ” ì‹œë“œë¥¼ í™˜ê²½ë³€ìˆ˜ íŒŒì¼(.env)ì— ê¸°ë¡

# ì§€ê°‘ ìƒì„± í›„ í™˜ê²½ë³€ìˆ˜ ì…ë ¥í•˜ëŠ” ë°©ë²•

# 2-1. ì•„ë˜ ëª…ë ¹ì–´ë¥¼ í„°ë¯¸ë„ì— ì…ë ¥(ì´ 3ë²ˆ ì‹¤í–‰)
npx ts-node xrpl/Wallet/createNewWallet.ts
npx ts-node xrpl/Wallet/createNewWallet.ts
npx ts-node xrpl/Wallet/createNewWallet.ts

# 2-2. 1íšŒ ì‹¤í–‰ ì‹œë§ˆë‹¤ ì•„ë˜ì™€ ê°™ì€ ë¡œê·¸ê°€ ì¶œë ¥ë¨ 
ì£¼ì†Œ: r""""""""""""""""""""""""""""""
ì‹œë“œ: sE"""""""""""""""""""""""""""""  # <- ì´ ê°’ ë³µì‚¬í•´ì„œ í”„ë¡œì íŠ¸ ë£¨íŠ¸ì˜ .env íŒŒì¼ì— ì…ë ¥!
ê³µê°œí‚¤: E""""""""""""""""""""""""""""

# 2-3. .env íŒŒì¼ ì˜ˆì‹œ"
#   ADMIN_SEED="sEdXXXXXXXXXXXXXXXXX"  <- ì²« ë²ˆì§¸ ì‹œë“œ(Admin)"
#   USER_SEED="sEdYYYYYYYYYYYYYYYYY"    <- ë‘ ë²ˆì§¸ ì‹œë“œ(User)"
#   USER2_SEED="sEdZZZZZZZZZZZZZZZZ"    <- ì„¸ ë²ˆì§¸ ì‹œë“œ(User2)
```

---

## ğŸ—‚ï¸ ì „ì²´ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```bash
xrpl/
â”œâ”€â”€ Wallet/ # ì§€ê°‘ ìƒì„±/ê´€ë¦¬
â”‚ â”œâ”€â”€ createNewWallet.ts
â”‚ â”œâ”€â”€ faucet.ts
â”‚ â”œâ”€â”€ LoadWallet.ts
â”‚ â””â”€â”€ WalletInfo.ts
â”‚
â”œâ”€â”€ Payment/ # XRP/IOU ì†¡ê¸ˆ
â”‚ â”œâ”€â”€ sendIOU.ts
â”‚ â””â”€â”€ sendXRP.ts
â”‚
â”œâ”€â”€ TrustSet/ # ì‹ ë¢°ì„  ì„¤ì •
â”œ â”œâ”€â”€ requireAuth.ts
â”‚ â””â”€â”€ TrustSet.ts
â”‚
â”œâ”€â”€ AccountSet/ # ê³„ì • ì˜µì…˜ ì„¤ì •
â”‚ â””â”€â”€ AccountSet.ts
â”‚
â”œâ”€â”€ Credential/ # Credential ë°œê¸‰/ê²€ì¦
â”‚ â”œâ”€â”€ acceptCredential.ts
â”‚ â”œâ”€â”€ checkCredential.ts
â”‚ â”œâ”€â”€ createCredential.ts
â”‚ â””â”€â”€ deleteCredential.ts
â”‚
â”œâ”€â”€ PermissionedDEX/ # ê¶Œí•œ ê¸°ë°˜ DEX
â”‚ â”œâ”€â”€ bookOffers.ts
â”‚ â”œâ”€â”€ cancelOffer.ts
â”‚ â””â”€â”€ createPermissionedOffer.ts
â”‚
â”œâ”€â”€ PermissionedDomains/# Domain ê¸°ë°˜ ê¶Œí•œ ê´€ë¦¬
â”‚ â”œâ”€â”€ AcceptedCredentials.ts
â”‚ â”œâ”€â”€ createDomain.ts
â”‚ â””â”€â”€ deleteDomain.ts
â”‚
â”œâ”€â”€ TokenEscrow/ # ì—ìŠ¤í¬ë¡œ
â”‚ â”œâ”€â”€ escrowCancel.ts
â”‚ â”œâ”€â”€ escrowCreateIOU.ts
â”‚ â”œâ”€â”€ escrowCreateMPT.ts
â”‚ â””â”€â”€ escrowFinish.ts
â”‚
â”œâ”€â”€ MPTokensV1/ # Multi-Party Tokens (v1)
â”‚ â”œâ”€â”€ authorizeHolder.ts
â”‚ â”œâ”€â”€ createIssuance.ts
â”‚ â”œâ”€â”€ destroyIssuance.ts
â”‚ â”œâ”€â”€ sendMPT.ts
â”‚ â””â”€â”€ setIssuance.ts
â”‚
â”œâ”€â”€ Batch/ # ë°°ì¹˜ íŠ¸ëœì­ì…˜
â”‚ â”œâ”€â”€ AllOrNothing.ts
â”‚ â”œâ”€â”€ Independent.ts
â”‚ â”œâ”€â”€ OnlyOne.ts
â”‚ â””â”€â”€ UntilFailure.ts
â”‚
â”œâ”€â”€ Server/ # ì„œë²„ ì •ë³´ í™•ì¸
â”‚ â””â”€â”€ serverInfo.ts
â”‚
â”œâ”€â”€ AMM/ # AMM(ìœ ë™ì„± í’€)
â”‚ â”œâ”€â”€ AMMCreate.ts
â”‚ â”œâ”€â”€ AMMDeposit.ts
â”‚ â”œâ”€â”€ AMMWithdraw.ts
â”‚ â”œâ”€â”€ AMMSwap.ts
â”‚ â”œâ”€â”€ AMMVote.ts
â”‚ â”œâ”€â”€ AMMBid.ts
â”‚ â”œâ”€â”€ AMMDelete.ts
â”‚ â”œâ”€â”€ AMMClawback.ts
â”‚ â”œâ”€â”€ getAMMInfo.ts
â””â”€â”€
```

## 

---

[ğŸ“¦Â ì£¼ìš” ê¸°ëŠ¥(í´ë”)ë³„ README](https://www.notion.so/24c898c680bf80b2b1d5cb52714c2fbf?pvs=21)

### XRPL Devnet Explorer(íŠ¸ëœì­ì…˜ í™•ì¸)

https://devnet.xrpl.org/

---

## **ğŸŒ ë„¤íŠ¸ì›Œí¬ / ë²„ì „**

ë„¤íŠ¸ì›Œí¬: XRPL Devnet (wss://s.devnet.rippletest.net:51233)

rippled ë²„ì „: 2.6.0

xrpl.js ë²„ì „: package.json ì°¸ì¡°

Node.js: LTS ê¶Œì¥

---